package squads;

import edu.warbot.agents.agents.WarBase;
import edu.warbot.agents.percepts.WarAgentPercept;
//import edu.warbot.agents.enums.WarAgentCategory;
//import edu.warbot.agents.enums.WarAgentType;
//import edu.warbot.agents.percepts.WarAgentPercept;
import edu.warbot.brains.brains.WarBaseBrain;
import edu.warbot.communications.WarMessage;

import java.util.ArrayList;
import java.util.List;

import squads.explorer.ExplorerStateCollectorBringBack;
import squads.fsm.Fsm;

public abstract class WarBaseBrainController extends WarBaseBrain
{
	Fsm fsm;
	
	public ArrayList<WarMessage> mailbox;
	public ArrayList<WarAgentPercept> percepts;
	
    public WarBaseBrainController()
    {
        super();
        fsm = new Fsm();
        fsm.push(new ExplorerStateCollectorBringBack(fsm, this));
    }

    @Override
    public String action()
    {
    	update();
        return fsm.execute();
    }
    
    public void update()
	{
		mailbox = new ArrayList<WarMessage>(getMessages());
		percepts = new ArrayList<WarAgentPercept>(getPercepts());
	}

}
