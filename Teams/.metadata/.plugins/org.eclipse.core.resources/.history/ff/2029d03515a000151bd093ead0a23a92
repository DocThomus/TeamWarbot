package squads.explorer;

import java.util.ArrayList;

import squads.fsm.Fsm;
import squads.fsm.MovableAgentState;
import squads.fsm.State;

import edu.warbot.agents.enums.WarAgentType;
import edu.warbot.agents.percepts.WarAgentPercept;
import edu.warbot.brains.brains.WarExplorerBrain;

public abstract class ExplorerState extends MovableAgentState
{
	public WarExplorerBrain web;
	
	ArrayList<WarAgentPercept> bases;
	ArrayList<WarAgentPercept> foods;
	
	public ExplorerState(Fsm fsm, WarExplorerBrain web)
	{
		super(fsm, web);
		this.web = web;
	}
	
	public void reflexe()
	{
		
	}
	
	public void update()
	{
		super.update();
		foods = new ArrayList<WarAgentPercept>();
		for(WarAgentPercept p : percepts)
		{
			if(p.getType() == WarAgentType.WarFood)
			{
				foods.add(p);
			}
		}
		bases = new ArrayList<WarAgentPercept>(web.getPerceptsAlliesByType(WarAgentType.WarBase));
	}
}
