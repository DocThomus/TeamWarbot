package squads.explorer;

import java.util.ArrayList;

import squads.WarExplorerBrainController;
import squads.fsm.Fsm;
import squads.fsm.MovableAgentState;

import edu.warbot.agents.enums.WarAgentType;
import edu.warbot.agents.percepts.WarAgentPercept;

public abstract class ExplorerState extends MovableAgentState
{
	public WarExplorerBrainController web;
	
	ArrayList<WarAgentPercept> bases;
	ArrayList<WarAgentPercept> foods;
	
	public ExplorerState(Fsm fsm, WarExplorerBrainController web)
	{
		super(fsm, web);
		this.web = web;
	}
	
	public void reflexe()
	{
		super.reflexe();
	}
	
	public void update()
	{
		foods = new ArrayList<WarAgentPercept>();
		for(WarAgentPercept p : web.percepts)
		{
			if(p.getType() == WarAgentType.WarFood)
			{
				foods.add(p);
			}
		}
		bases = new ArrayList<WarAgentPercept>(web.getPerceptsAlliesByType(WarAgentType.WarBase));
	}
}
